(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{280:function(t,e,a){"use strict";a.r(e);var n=a(6),s=function(t){t.options.__data__block__={mermaid_382ee1e8:"flowchart TD\n  subgraph Reverse-Proxy Container\n    direction RL\n      Reverse-Proxy(Nginx)\n  end  \n  subgraph Frontend Container\n    direction RL\n      Frontend(node.js)\n  end\n  subgraph Backend Container\n    direction RL\n      Backend(openjdk)\n  end\n  subgraph Database Container\n    direction RL\n      Database(MongoDB)\n  end  \n\n  Reverse-Proxy <--\x3e Frontend\n  Reverse-Proxy <--\x3e Backend  \n  Frontend <--\x3e Backend\n  Backend <--\x3e Database\n"}},r=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"installation-guide"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-guide"}},[t._v("#")]),t._v(" Installation Guide")]),t._v(" "),e("p",[e("em",[t._v("Guide to install Diveni on production environments.")])]),t._v(" "),e("h3",{attrs:{id:"system-requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system-requirements"}},[t._v("#")]),t._v(" System Requirements")]),t._v(" "),e("p",[t._v("Using Docker is the preferred way to install Diveni.")]),t._v(" "),e("p",[t._v("Preferred Docker environment:")]),t._v(" "),e("ul",[e("li",[t._v("Docker host: Linus, Windows, Mac")]),t._v(" "),e("li",[t._v("CPU: TBD")]),t._v(" "),e("li",[t._v("Memory: TBD")]),t._v(" "),e("li",[t._v("HD space: TBD")])]),t._v(" "),e("h2",{attrs:{id:"preconditions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#preconditions"}},[t._v("#")]),t._v(" Preconditions")]),t._v(" "),e("p",[t._v("To install Diveni in combination with JIRA some configuration data to connect the issue\ntracker are required. These data have to be added to configuration file "),e("code",[t._v("backend/.env")]),t._v(" (see below).")]),t._v(" "),e("p",[t._v("Connection to JIRA Cloud and JIRA Enterprise is optional. Diveni could also be used without any\nconnection.")]),t._v(" "),e("h3",{attrs:{id:"jira-cloud-connector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jira-cloud-connector"}},[t._v("#")]),t._v(" JIRA Cloud Connector")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("TBD\n")])])]),e("h3",{attrs:{id:"jira-enterprise-connector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jira-enterprise-connector"}},[t._v("#")]),t._v(" JIRA Enterprise Connector")]),t._v(" "),e("p",[t._v("For setting up the JIRA application, the steps described here should be sufficient:\n"),e("a",{attrs:{href:"https://developer.atlassian.com/server/jira/platform/oauth/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developer.atlassian.com/server/jira/platform/oauth/"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("It doesn't matter what you enter in remaining fields (URL, name, type, and so on).\nThis is because we only want to retrieve data from Jira, therefore we only need to set up a\none-way (incoming) link from the client to Jira.")]),t._v(" "),e("p",[t._v("Afterwards, you will see the "),e("code",[t._v("client secret")]),t._v(" and "),e("code",[t._v("ID")]),t._v(", which needs to be provided for Diveni on\nJIRA-Server.")]),t._v(" "),e("h2",{attrs:{id:"docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[t._v("#")]),t._v(" Docker")]),t._v(" "),e("p",[t._v("The infrastructure is divided in several Docker containers:")]),t._v(" "),e("Mermaid",{attrs:{id:"mermaid_382ee1e8",graph:t.$dataBlock.mermaid_382ee1e8}}),e("h3",{attrs:{id:"docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[t._v("#")]),t._v(" Docker Compose")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3.8"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("database")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" diveni_database\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" unless"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stopped    \n\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("backend")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ghcr.io/sybit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("education/diveni"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("backend"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" diveni_backend\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" database\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" unless"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stopped    \n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env_file")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./backend/.env\n\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("frontend")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ghcr.io/sybit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("education/diveni"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("frontend"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" diveni_frontend\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" backend\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" unless"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stopped      \n\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("proxy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ghcr.io/sybit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("education/diveni_proxy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" diveni_proxy\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" frontend\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" backend\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" database    \n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" unless"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stopped\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"80:80"')]),t._v("\n\n")])])]),e("h3",{attrs:{id:"configuration-using-env"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-using-env"}},[t._v("#")]),t._v(" Configuration using "),e("code",[t._v(".env")])]),t._v(" "),e("p",[t._v("To configure your local environment, you have to add your configuration to "),e("code",[t._v("/backend/.env")])]),t._v(" "),e("p",[t._v("See below for example:")]),t._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#URL the server is running on")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("SERVER_URL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("http://localhost:8080")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ClientId and ClientSecret are shown in the Atlassian Developer app settings")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("JIRA_CLOUD_CLIENTID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("[xxx]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("JIRA_CLOUD_CLIENTSECRET")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("[xxx]")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#The estimation field is a customfield which is different for every Jira instance and must therefore be set manually")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("JIRA_CLOUD_ESTIMATIONFIELD")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("customfield_10016")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#URL to the Jira Server instance")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("JIRA_SERVER_JIRAHOME")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("https://jira.company.com")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Consumer key can be set in the Jira application link")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("JIRA_SERVER_CONSUMERKEY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("OauthKey")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Private key from jira_privatekey.pcks8")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("JIRA_SERVER_PRIVATEKEY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("[xxx]")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#The estimation field is a customfield which is different for every Jira instance and must therefore be set manually")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("JIRA_SERVER_ESTIMATIONFIELD")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("customfield_10152")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#Used for correct sortation of the issues. Depends on the Jira language e.g. RANK or RANG")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("JIRA_SERVER_RANKNAME")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("RANG")]),t._v("\n")])])]),e("p",[t._v("Copy the configured file to "),e("code",[t._v("/backend/.env")])]),t._v(" "),e("h3",{attrs:{id:"starting-app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#starting-app"}},[t._v("#")]),t._v(" Starting App")]),t._v(" "),e("p",[t._v("If all the configuration is done, Diveni could be started:")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker-compose")]),t._v(" up "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v("\n")])])])],1)}),[],!1,null,null,null);"function"==typeof s&&s(r);e.default=r.exports}}]);