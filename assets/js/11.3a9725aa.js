(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{279:function(e,t,r){"use strict";r.r(t);var n=r(6),s=function(e){e.options.__data__block__={mermaid_382ee147:"flowchart TD\n  Browser(Browser)\n  subgraph Reverse-Proxy-Container\n    direction RL\n      Reverse-Proxy\n  end  \n  subgraph Frontend-Container\n    direction RL\n      Frontend\n  end\n  subgraph Backend-Container\n    direction RL\n      Backend\n  end\n  subgraph Database-Container\n    direction RL\n      Database[(Database)]\n  end  \n\n  Browser  <-- https/wss --\x3e Reverse-Proxy\n  Reverse-Proxy <-- http/ws --\x3e Frontend\n  Reverse-Proxy <-- http --\x3e Backend  \n  Frontend <-- http/ws --\x3e Backend\n  Backend <--\x3e Database\n  \n",mermaid_64a53ae6:"sequenceDiagram\nactor User\nparticipant Server\nactor Admin\n\nNote over User, Admin: Create session\nAdmin->>+Server: /registerAdminUser\nServer->>-Admin: admin joined\nUser->>+Server: /registerMember\nServer->>-User: user joined\n\nNote over User, Admin: Add user stories to session\nAdmin->>+Server: /adminUpdatedUserStories\nServer->>-Admin: User Stories added to session\n\nNote over User, Admin: Voting in progress\nloop\n    User->>+Server: /vote\n    Admin->>+Server: /votingFinished\n    Server->>-Server: close voting\n    par\n        Server->>User: show voting results\n    and\n        Server->>Admin: show voting results\n    end\nend\n\n",mermaid_64a53ade:"sequenceDiagram\nactor Admin\nparticipant Server\n\nNote left of Admin: Admin disconnected\nAdmin--\x3eAdmin: reload browser\nAdmin->>Server: /registerAdminUser\nAdmin->>Server: /memberUpdate\nServer->>Admin: Admin reconnected\n\n",mermaid_64a53ad6:"sequenceDiagram\nactor User\nparticipant Server\nactor Admin\n\nUser->>Server: /unregister\nServer->>Server: remove User from session\npar\n    Server->>Admin: update user list\nand\n    Server->>User: update user list\nend\n",mermaid_64a53aa4:"sequenceDiagram\nactor User\nparticipant Server\nactor Admin\n\nAdmin->>Server: /closeSession\nServer->>Server: remove all users from session\nServer->>Server: remove all  session data\npar\n    Server->>Admin: session closed\nand\n    Server->>User: session closed\nend\n"}},a=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"software-architecture"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#software-architecture"}},[e._v("#")]),e._v(" Software Architecture")]),e._v(" "),t("h2",{attrs:{id:"layer-diagram"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#layer-diagram"}},[e._v("#")]),e._v(" Layer Diagram")]),e._v(" "),t("p",[e._v("Context delineation provided insight of the system from a black box perspective. In the building block view\nthe internal structure and the components to be developed are now considered.")]),e._v(" "),t("p",[e._v("Diveni is separated in four Docker containers:")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee147",graph:e.$dataBlock.mermaid_382ee147}}),t("p",[e._v("The main layers are:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Reverse Proxy:")]),e._v(" nginx based reverse proxy passing requests to frontend and backend")]),e._v(" "),t("li",[t("strong",[e._v("Frontend:")]),e._v(" vue.js based web frontend")]),e._v(" "),t("li",[t("strong",[e._v("Backend:")]),e._v(" Java/Spring Boot based backend")]),e._v(" "),t("li",[t("strong",[e._v("Database:")]),e._v(" MongoDB persistence")])]),e._v(" "),t("p",[e._v("These layers are separated to different Docker containers for most flexibility and easy updates.")]),e._v(" "),t("h2",{attrs:{id:"component-description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#component-description"}},[e._v("#")]),e._v(" Component Description")]),e._v(" "),t("h3",{attrs:{id:"frontend"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#frontend"}},[e._v("#")]),e._v(" Frontend")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("frontend\n├── docker           // docker related files\n├── public           // public folder of web app\n├── src              // sources of vue.js project\n│   ├── assets       // \n│   ├── components\n│   ├── locales\n│   ├── model\n│   ├── router\n│   ├── services\n│   ├── views\n│   ├── App.vue\n│   ├── [...]\n│   └── main.ts\n│   └── [...]\n├── [...]\n├── package.json     // npm definition file \n├── [...]\n└── vue.config.js    // configuration of vue.js\n")])])]),t("table",[t("thead",[t("tr",[t("th",[e._v("Component")]),e._v(" "),t("th",[e._v("Description")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("AboutDropdown")]),e._v(" "),t("td",[e._v("Dropdown with links to front-/backend licenses")])]),e._v(" "),t("tr",[t("td",[e._v("CardSetComponent")]),e._v(" "),t("td",[e._v('Card set selection in page "PrepareSession"')])]),e._v(" "),t("tr",[t("td",[e._v("CopySessionIdPopup")]),e._v(" "),t("td",[e._v("Link including a popup with the functionalities: copy code or link to clipboard")])]),e._v(" "),t("tr",[t("td",[e._v("EstimateTimer")]),e._v(" "),t("td",[e._v("Displays the timer and has the logic for the countdown")])]),e._v(" "),t("tr",[t("td",[e._v("JiraComponent")]),e._v(" "),t("td",[e._v('Component for the "Planning with Jira" tab.')])]),e._v(" "),t("tr",[t("td",[e._v("JoinPageCard")]),e._v(" "),t("td",[e._v('Card for joining a Session in page "JoinPage"')])]),e._v(" "),t("tr",[t("td",[e._v("LandingPageCard")]),e._v(" "),t("td",[e._v('Cards for "New Session"/"Join Session"/"Reconnect to Session" in page "LandingPage"')])]),e._v(" "),t("tr",[t("td",[e._v("LocaleDropdown")]),e._v(" "),t("td",[e._v("Dropdown for language selection")])]),e._v(" "),t("tr",[t("td",[e._v("MemberVoteCard")]),e._v(" "),t("td",[e._v('The cards which the member can choose from. Used in page "MemberVotePage"')])]),e._v(" "),t("tr",[t("td",[e._v("MobileStoryList")]),e._v(" "),t("td",[e._v('List of all user stories before and during the plannings. Especially for mobile devices. Used in page "MemberVotePage"')])]),e._v(" "),t("tr",[t("td",[e._v("MobileStoryTitle")]),e._v(" "),t("td",[e._v('Title with optional collapsable description for the user stories. Especially for mobile devices. Used in page "MemberVotePage"')])]),e._v(" "),t("tr",[t("td",[e._v("NotifyHostComponent")]),e._v(" "),t("td",[e._v("Triggers toast notifications for host. Does not have ui")])]),e._v(" "),t("tr",[t("td",[e._v("NotifyMemberComponent")]),e._v(" "),t("td",[e._v("Triggers toast notifications for members. Does not have ui")])]),e._v(" "),t("tr",[t("td",[e._v("ProjectSelectionComponent")]),e._v(" "),t("td",[e._v('Dropdown to select project after jira authentication in page "PrepareSession"')])]),e._v(" "),t("tr",[t("td",[e._v("RoundedAvatar")]),e._v(" "),t("td",[e._v('Circle with animal emoji and name. Used in pages: "JoinPage"/"MemberVotePage"/"SessionPage"')])]),e._v(" "),t("tr",[t("td",[e._v("SessionMemberCard")]),e._v(" "),t("td",[e._v('The cards representing the members with name, emoji and current estimation. Used in page "SessionPage"')])]),e._v(" "),t("tr",[t("td",[e._v("SessionMemberCircle")]),e._v(" "),t("td",[e._v('The circle representing the members with name and emoji. Used in pages: "SessionPage"/"MemberVotePage"')])]),e._v(" "),t("tr",[t("td",[e._v("SignInWithJiraCloudButtonComponent")]),e._v(" "),t("td",[e._v("Button which redirects to jira (cloud) authentication")])]),e._v(" "),t("tr",[t("td",[e._v("SignInWithJiraServerButtonComponent")]),e._v(" "),t("td",[e._v("Button including the login logic for jira server")])]),e._v(" "),t("tr",[t("td",[e._v("StoryPointsComponent")]),e._v(" "),t("td",[e._v('Includes text for "Planning without user stories"-Tab in page "PrepareSession"')])]),e._v(" "),t("tr",[t("td",[e._v("UserStories")]),e._v(" "),t("td",[e._v("List of all user stories including the logic to select the current user story and the logic for submitting a value")])]),e._v(" "),t("tr",[t("td",[e._v("UserStoryComponent")]),e._v(" "),t("td",[e._v('Includes text for "Planning with user stories"-Tab in page "PrepareSession"')])]),e._v(" "),t("tr",[t("td",[e._v("UserStoryDescriptions")]),e._v(" "),t("td",[e._v("Displays the description for the selected user story")])]),e._v(" "),t("tr",[t("td",[e._v("UserStorySum")]),e._v(" "),t("td",[e._v("Calculates and displays dynamically the sum of all estimated user stories")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("JoinCommand")]),e._v(" "),t("td",[e._v("Model for the command to join a session")])]),e._v(" "),t("tr",[t("td",[e._v("Member")]),e._v(" "),t("td",[e._v("Model representing a member")])]),e._v(" "),t("tr",[t("td",[e._v("Session")]),e._v(" "),t("td",[e._v("Model for a session including all relevant information")])]),e._v(" "),t("tr",[t("td",[e._v("SessionConfig")]),e._v(" "),t("td",[e._v("Model which is used in the session model. Clusters all important information about the configs of the session")])]),e._v(" "),t("tr",[t("td",[e._v("UserStory")]),e._v(" "),t("td",[e._v("Model representing a user story")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("JiraCallbackPage")]),e._v(" "),t("td",[e._v('Page for he jira callback when authenticating. Redirects immediately to the "PrepareSession" Page')])]),e._v(" "),t("tr",[t("td",[e._v("JoinPage")]),e._v(" "),t("td",[e._v("Page for members to join a session")])]),e._v(" "),t("tr",[t("td",[e._v("LandingPage")]),e._v(" "),t("td",[e._v('First page where a first time user normally lands. Includes the option a user has and redirects either to page "PrepareSession"/"JoinPage" or directly to "SessionPage"')])]),e._v(" "),t("tr",[t("td",[e._v("MemberVotePage")]),e._v(" "),t("td",[e._v("The page for members when they join a session. It also includes the voting and selection which the Cards")])]),e._v(" "),t("tr",[t("td",[e._v("PrepareSessionPage")]),e._v(" "),t("td",[e._v("The prepare Session Page displays a site where a admin can choose all important configs for the new session: user story mode, card set, timer or password")])]),e._v(" "),t("tr",[t("td",[e._v("ResultPage")]),e._v(" "),t("td",[e._v('The ResultPage is displayed after a planning session is finished. It shows the results and the estimation overview over all user stories. Also includes a CSV-Export and a Link back to "LandingPage"')])]),e._v(" "),t("tr",[t("td",[e._v("SessionPage")]),e._v(" "),t("td",[e._v("The SessionPage is displayed the admin before and during the planning sessions. It provides some functionality to control the planning like restart session, show estimations or end sessions. Also includes the possibility to add or change the user stories")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("Router")]),e._v(" "),t("td",[e._v("The Router includes all routes to the Pages with their specific links")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("Store")]),e._v(" "),t("td",[e._v("The store includes data which can be accessed from all views and components")])])])]),e._v(" "),t("h3",{attrs:{id:"backend"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backend"}},[e._v("#")]),e._v(" Backend")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("backend\n├── src                  // sources of spring boot project\n│   ├── main\n│   │   ├── java\n│   │   └── resources\n│   └── test\n│       └── java\n├── [...]\n└── pom.xml\n")])])]),t("table",[t("thead",[t("tr",[t("th",[e._v("Component")]),e._v(" "),t("th",[e._v("Description")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("WebSocketConfig")]),e._v(" "),t("td",[e._v("Configurations (e.g. prefixes, CORS) for Websockets")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("ControllerUtils")]),e._v(" "),t("td",[e._v("Helper functions for all controllers")])]),e._v(" "),t("tr",[t("td",[e._v("ErrrorMessages")]),e._v(" "),t("td",[e._v("All error messages which can be thrown in exceptions")])]),e._v(" "),t("tr",[t("td",[e._v("ProjectManagementController")]),e._v(" "),t("td",[e._v("REST Controller for project management software (e.g. Jira)")])]),e._v(" "),t("tr",[t("td",[e._v("RoutesController")]),e._v(" "),t("td",[e._v("REST Controller")])]),e._v(" "),t("tr",[t("td",[e._v("WebsocketController")]),e._v(" "),t("td",[e._v("WebSocket Controller")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("PrincipalWebSocketHandler")]),e._v(" "),t("td",[e._v("Set anonymous user (Principal) in WebSocket messages by using uri query UUIDs. This is necessary to avoid broadcasting messages but sending them to specific user sessions")])]),e._v(" "),t("tr",[t("td",[e._v("SessionDisconnectedListener")]),e._v(" "),t("td",[e._v("Listener when a user disconnects from a session")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("AuthorizationCode")]),e._v(" "),t("td",[e._v("Authorization code for OAuth1")])]),e._v(" "),t("tr",[t("td",[e._v("AvatarAnimal")]),e._v(" "),t("td",[e._v("Enum for the avatar animals")])]),e._v(" "),t("tr",[t("td",[e._v("JiraRequestToken")]),e._v(" "),t("td",[e._v("Request token for Jira Server")])]),e._v(" "),t("tr",[t("td",[e._v("JoinInfo")]),e._v(" "),t("td",[e._v("DTO to join a session")])]),e._v(" "),t("tr",[t("td",[e._v("Member")]),e._v(" "),t("td",[e._v("Member model")])]),e._v(" "),t("tr",[t("td",[e._v("MemberUpdate")]),e._v(" "),t("td",[e._v("Model for the current members and highlighted members")])]),e._v(" "),t("tr",[t("td",[e._v("Project")]),e._v(" "),t("td",[e._v("Project for project management providers")])]),e._v(" "),t("tr",[t("td",[e._v("Session")]),e._v(" "),t("td",[e._v("Session model")])]),e._v(" "),t("tr",[t("td",[e._v("SessionConfig")]),e._v(" "),t("td",[e._v("Configuration for session (e.g. set, timer)")])]),e._v(" "),t("tr",[t("td",[e._v("SessionState")]),e._v(" "),t("td",[e._v("Enum for the current state of the session")])]),e._v(" "),t("tr",[t("td",[e._v("TokenIdentifier")]),e._v(" "),t("td",[e._v("Identifier for project management providers access token before a session was created")])]),e._v(" "),t("tr",[t("td",[e._v("UserStory")]),e._v(" "),t("td",[e._v("User Story model")])]),e._v(" "),t("tr",[t("td",[e._v("VerificationCode")]),e._v(" "),t("td",[e._v("Verification code for OAuth")])]),e._v(" "),t("tr",[t("td",[e._v("------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("MemberPayload")]),e._v(" "),t("td",[e._v("Notification about a member")])]),e._v(" "),t("tr",[t("td",[e._v("Notification")]),e._v(" "),t("td",[e._v("Generic notification")])]),e._v(" "),t("tr",[t("td",[e._v("NotificationPayload")]),e._v(" "),t("td",[e._v("Abstract class for notification payloads")])]),e._v(" "),t("tr",[t("td",[e._v("NotificationType")]),e._v(" "),t("td",[e._v("Notification types (e.g. Admin left, member left, member joined)")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("AdminPrincipal")]),e._v(" "),t("td",[e._v("Principal for admin")])]),e._v(" "),t("tr",[t("td",[e._v("MemberPrincipal")]),e._v(" "),t("td",[e._v("Principal for member")])]),e._v(" "),t("tr",[t("td",[e._v("SessionPrincipals")]),e._v(" "),t("td",[e._v("Principal for session")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("SessionRepository")]),e._v(" "),t("td",[e._v("Repository to save session data in the database")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("SessionScheduledTasks")]),e._v(" "),t("td",[e._v("Scheduled tasks which will be called in regular intervals (e.g. delete old sessions)")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("DatabaseService")]),e._v(" "),t("td",[e._v("Service to call the session repository")])]),e._v(" "),t("tr",[t("td",[e._v("WebSockerService")]),e._v(" "),t("td",[e._v("Business logic for the WebSocket controller")])]),e._v(" "),t("tr",[t("td",[e._v("------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("ProjectManagementProvider")]),e._v(" "),t("td",[e._v("Interface for all project management providers with functions which are necessary (e.g. getIssues)")])]),e._v(" "),t("tr",[t("td",[e._v("ProjectManagementProviderOAuth1")]),e._v(" "),t("td",[e._v("Interface for all project management providers with OAuth1")])]),e._v(" "),t("tr",[t("td",[e._v("ProjectManagementProviderOAuth2")]),e._v(" "),t("td",[e._v("Interface for all project management providers with OAuth2")])]),e._v(" "),t("tr",[t("td",[e._v("------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("JiraCloudService")]),e._v(" "),t("td",[e._v("Implementation for Jira Cloud")])]),e._v(" "),t("tr",[t("td",[e._v("-------------------------------")]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("JiraServerService")]),e._v(" "),t("td",[e._v("Implementation for Jira Server")])]),e._v(" "),t("tr",[t("td",[e._v("JiraOAuthClient")]),e._v(" "),t("td",[e._v("Helper class for Jira Server OAuth1")])]),e._v(" "),t("tr",[t("td",[e._v("JiraOAuthGetAccessToken")]),e._v(" "),t("td",[e._v("Helper class for Jira Server OAuth1")])]),e._v(" "),t("tr",[t("td",[e._v("JiraOAuthGetTemporaryToken")]),e._v(" "),t("td",[e._v("Helper class for Jira Server OAuth1")])]),e._v(" "),t("tr",[t("td",[e._v("JiraOAuthTokenFactory")]),e._v(" "),t("td",[e._v("Helper class for Jira Server OAuth1")])]),e._v(" "),t("tr",[t("td",[e._v("-----------")]),e._v(" "),t("td")])])]),e._v(" "),t("h2",{attrs:{id:"api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[e._v("#")]),e._v(" API")]),e._v(" "),t("h3",{attrs:{id:"rest-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rest-api"}},[e._v("#")]),e._v(" REST API")]),e._v(" "),t("p",[e._v("The current documentation for the REST API can be found as Swagger doc: "),t("a",{attrs:{href:"https://diveni.io/api/swagger-ui/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://diveni.io/api/swagger-ui/index.html"),t("OutboundLink")],1),e._v(".\nOr on "),t("strong",[e._v("local development")]),e._v(" environment at "),t("a",{attrs:{href:"http://localhost:8081/swagger-ui/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:8081/swagger-ui/index.html"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"websocket"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#websocket"}},[e._v("#")]),e._v(" Websocket")]),e._v(" "),t("p",[e._v("This sequence diagram shows all Websocket commands and when they are used.")]),e._v(" "),t("p",[e._v("Diagrams created using "),t("a",{attrs:{href:"https://mermaid-js.github.io/mermaid/#/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mermaid"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"create-session-and-vote"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-session-and-vote"}},[e._v("#")]),e._v(" Create Session and Vote")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_64a53ae6",graph:e.$dataBlock.mermaid_64a53ae6}}),t("h4",{attrs:{id:"admin-disconnected"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#admin-disconnected"}},[e._v("#")]),e._v(" Admin disconnected")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_64a53ade",graph:e.$dataBlock.mermaid_64a53ade}}),t("h4",{attrs:{id:"unregister-user-from-session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unregister-user-from-session"}},[e._v("#")]),e._v(" Unregister User from Session")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_64a53ad6",graph:e.$dataBlock.mermaid_64a53ad6}}),t("h4",{attrs:{id:"close-session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#close-session"}},[e._v("#")]),e._v(" Close Session")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_64a53aa4",graph:e.$dataBlock.mermaid_64a53aa4}})],1)}),[],!1,null,null,null);"function"==typeof s&&s(a);t.default=a.exports}}]);